<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cast Arena - Multiplayer Wizard Battle</title>
    <link rel="icon" type="image/svg+xml" href="assets/favicon.svg">
    <link rel="icon" type="image/png" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAA7AAAAOwBeShxvQAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAMPSERBVFiFvddLqFVVHMfxz7mXbkUXNAspMkrDIIgokkAiGkT0ICuJHjRQImoQNokKmjQIbNQkCgJpYBG9yKQnEQQRlVIURtEDoweRFZXYg27ldvS/g7XX2Xuf+zz3Hmv0h3PYe63/f/3X4/9fa51GYQsxgjU4hh34DvvwIz7Bd7gBF5RtptV0HMIu3IdzK2w7MRvzsBD3YxA7saO0m9GZ/RjuxOv4B+/iGpyF6QX7UxnKv5+JH/A3duMunDLBfXO34CfcgbfxF17E7DG0GhuFmxdxHN/iQZw0BXYc3UAU9iqeqNpI1XkRBb6Nb/EwZmVe7JzIeBNL8DQ+w1W5w3xgweGxjHegqR9PYg0W4zfsNRLz0TSMBomWPIkwLNmFi/E+FuXz32QlXovTcWRkXe5oGYLLcXXmZe8K+zaSFnhRoqnF8XM+kGT9ghf8+xn+iRW4HlfW2GZXNZ7HzATbsAR0IEshj6FBE4uy37ViOJqYhzuxt0K8B3PwGP7EYRxXHUIzGoiA5KZiMs13jzTOxdsYymK5TI9HslmlDrmTnaX7BrblTr8qDEtGu9lmvkYLwreBg7gc9+AQ/sIvWI8rKrrp2YGGbH8EnmgJSudpWJuFal+2fQ6XljrT+zMymgOtAOfOm9ibRfejbD+CD/HLBPxGIYcSUVNF5JG0AHW0d5Xa9+JonvdVH7iKP4VeGHWSzWadYw38kRi6rie2WRwUWA7sShSytekDz0hscUQiwXGSmtsr8unIpyNStPNu5gO7EYeZkwMHCrpt7ScwY5IEPGvotEGKp9U97DMrknhRR38gL6auO8Cb4Xvy4jjbM4AYGsSHcGakRfYe7sMNCdt2LCmjAe9IMI9fSp2NVvCi8/3AwbQPFE7eS3y2eapGPHcLyVYXZYcD0zIWSkLpZ/hq8FE7xtIhL2I5nuuLhApqFXqtl3EzHscZ2VDRSEzJLnEazsb1eCRx9xg+mSzxIj2t8fJ8cQe+wT34UIrbQzgiH8g3SFHgESl4Xj+VxCdS/wcXn8w7TFeZ4AAAAABJRU5ErkJggg==" sizes="32x32">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div id="gameContainer">
        <h1>ğŸ§™â€â™‚ï¸ Cast Arena</h1>

        <div id="gameArea">
            <canvas id="gameCanvas"></canvas>
            
            <!-- Player Stats UI -->
            <div id="playerStats">
                <div id="healthBar" class="stat-bar" title="Health">
                    <span class="stat-icon">â¤ï¸</span>
                    <div class="bar-container">
                        <div id="healthFill" class="bar-fill health-fill"></div>
                    </div>
                </div>
                <div id="manaBar" class="stat-bar">
                    <span class="stat-icon">ğŸ§ª</span>
                    <div class="bar-container">
                        <div id="manaFill" class="bar-fill mana-fill"></div>
                    </div>
                </div>
            </div>
            
            <!-- Custom Tooltips -->
            <div id="healthTooltip" class="custom-tooltip"></div>
            <div id="manaTooltip" class="custom-tooltip"></div>
            
            <!-- Active Effects Display -->
            <div id="activeEffects"></div>
            
            <!-- Kill Feed -->
            <div id="killFeed"></div>
            
            <div id="minimap">
                <canvas id="minimapCanvas" width="120" height="90"></canvas>
                <div id="minimapTitle">Minimap</div>
                <div id="playerCount">Players: 0</div>
            </div>
        </div>
        
        <!-- Bottom UI Bar for Tutorial -->
        <div id="bottomUI">
            <div id="tutorialInfo">
                Desktop: WASD to move, Click/Space to cast | Mobile: Use touch controls<br>
                ğŸ”¥ Fireball: 20 damage + 2 damage/sec for 10 seconds | ğŸ§ª Mana: 5 per cast, regens 2/sec
            </div>
        </div>
        </div>
    </div>

    <!-- Mobile Controls -->
    <div id="mobileControls">
        <div id="joystickContainer">
            <div id="joystickArea">
                <div id="joystick"></div>
            </div>
            <div id="joystickLabel">Move</div>
        </div>
        <div id="fireButtonContainer">
            <button id="fireButton">ğŸ”¥<br>FIRE</button>
        </div>
    </div>

    <!-- Death Modal -->
    <div id="deathModal" class="modal">
        <div class="modal-content death-modal">
            <h2>ğŸ’€ You Died!</h2>
            <p>Respawning in <span id="respawnTimer">3</span> seconds...</p>
            <p class="respawn-note">You'll respawn at a random location with 2 seconds of protection!</p>
        </div>
    </div>

    <!-- Leaderboard Modal -->
    <div id="leaderboardModal" class="modal">
        <div class="modal-content">
            <div class="modal-tabs">
                <button id="leaderboardTab" class="tab-button active">ğŸ† Leaderboard</button>
                <button id="settingsTab" class="tab-button">âš™ï¸ Settings</button>
            </div>
            
            <div id="leaderboardPanel" class="tab-panel active">
                <h2>ğŸ† Leaderboard</h2>
                <div id="leaderboardContent"></div>
            </div>
            
            <div id="settingsPanel" class="tab-panel">
                <div class="settings-section">
                    <h3>ğŸ”Š Audio Controls</h3>
                    <div class="audio-control">
                        <label>Master Volume</label>
                        <button id="muteMasterModal" class="mute-btn-modal">ğŸ”Š</button>
                        <input type="range" id="volumeMasterModal" min="0" max="100" value="70" class="volume-slider">
                        <span id="volumeMasterValue" class="volume-value">70%</span>
                    </div>
                    <div class="audio-control">
                        <label>Music Volume</label>
                        <button id="muteMusicModal" class="mute-btn-modal">ğŸ”Š</button>
                        <input type="range" id="volumeMusicModal" min="0" max="100" value="50" class="volume-slider">
                        <span id="volumeMusicValue" class="volume-value">50%</span>
                    </div>
                    <div class="audio-control">
                        <label>SFX Volume</label>
                        <button id="muteSfxModal" class="mute-btn-modal">ğŸ”Š</button>
                        <input type="range" id="volumeSfxModal" min="0" max="100" value="80" class="volume-slider">
                        <span id="volumeSfxValue" class="volume-value">80%</span>
                    </div>
                </div>
            </div>
            
            <p class="modal-close-hint">Press ESC to close</p>
        </div>
    </div>

    <script src="/socket.io/socket.io.js"></script>
    <script type="module" src="js/game.js"></script>

    <!-- FPS Monitor -->
    <div id="fpsMonitor" style="position: fixed; bottom: 10px; right: 10px; background: rgba(0,0,0,0.7); color: white; padding: 8px 12px; font-family: monospace; font-size: 14px; border-radius: 5px; z-index: 1000; width: 120px;">
        <div id="clientFps" style="color: #00ff00; font-size: 12px; display: flex; justify-content: space-between; width: 100%;">
            <span>Client:</span> <span>0 FPS</span>
        </div>
        <div id="serverTps" style="color: #00aaff; font-size: 12px; display: flex; justify-content: space-between; width: 100%;">
            <span>Server:</span> <span>NA TPS</span>
        </div>
        <div id="frameTime" style="color: #ffaa00; font-size: 12px; display: flex; justify-content: space-between; width: 100%;">
            <span>Frame:</span> <span>NA ms</span>
        </div>
    </div>

    <!-- Audio Controls -->
    <div id="audioControls" style="display: none; position: fixed; bottom: 10px; left: 10px; background: rgba(0,0,0,0.8); color: white; padding: 12px; font-family: Arial, sans-serif; font-size: 13px; border-radius: 8px; z-index: 1000; width: 200px;">
        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px;">
            <span style="font-weight: bold;">ğŸ”Š Audio</span>
            <button id="toggleAudioPanel" style="background: none; border: none; color: white; cursor: pointer; font-size: 16px;">â–¼</button>
        </div>
        <div id="audioPanelContent">
            <div style="margin-bottom: 8px;">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 4px;">
                    <label style="font-size: 11px;">Master</label>
                    <button id="muteMaster" class="mute-btn" style="background: none; border: 1px solid #666; color: white; cursor: pointer; padding: 2px 8px; border-radius: 3px; font-size: 11px;">ğŸ”‡</button>
                </div>
                <input type="range" id="volumeMaster" min="0" max="100" value="70" style="width: 100%;">
            </div>
            <div style="margin-bottom: 8px;">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 4px;">
                    <label style="font-size: 11px;">Music</label>
                    <button id="muteMusic" class="mute-btn" style="background: none; border: 1px solid #666; color: white; cursor: pointer; padding: 2px 8px; border-radius: 3px; font-size: 11px;">ğŸ”‡</button>
                </div>
                <input type="range" id="volumeMusic" min="0" max="100" value="50" style="width: 100%;">
            </div>
            <div style="margin-bottom: 8px;">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 4px;">
                    <label style="font-size: 11px;">SFX</label>
                    <button id="muteSfx" class="mute-btn" style="background: none; border: 1px solid #666; color: white; cursor: pointer; padding: 2px 8px; border-radius: 3px; font-size: 11px;">ğŸ”‡</button>
                </div>
                <input type="range" id="volumeSfx" min="0" max="100" value="80" style="width: 100%;">
            </div>
        </div>
    </div>
</body>
</html>
